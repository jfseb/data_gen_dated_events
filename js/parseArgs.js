"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GeneratePersons = exports.GetParams1 = exports.getSeedRandom = exports.SeedRandomWrap = exports.dumpUserHierarchyIfRequested = exports.getOutputParams = exports.OutputParams = exports.parseArguments = exports.ParsedArgs = exports.getInputSamples = void 0;
const Helpers = require("./helpers");
const { exit } = require('process');
const argparse_1 = require("argparse");
const { version } = require('../package.json');
const core_1 = require("@js-joda/core");
const seedrandom = require("seedrandom");
var SAMPLES = ["ASANTA", "EASTBU", "TWALKE", "A1", "JBAKER"];
function getInputSamples() {
    return SAMPLES;
}
exports.getInputSamples = getInputSamples;
class ParsedArgs {
}
exports.ParsedArgs = ParsedArgs;
function parseArguments(explicitArgs) {
    const parser = new argparse_1.ArgumentParser({
        description: "date_gen_dated_events, generate HR data"
    });
    parser.add_argument('-v', '--version', { action: 'version', version });
    parser.add_argument('-n', '--nrpersons', { action: 'store', type: "int", help: 'Number of persons', default: 2 });
    parser.add_argument('-z', '--zero', { action: 'store_true', help: 'write zero lines ( one record each month) .Z. ' });
    parser.add_argument('-s', '--stopRecords', { action: 'store_true', help: 'write stop records, default extension .S. ' });
    parser.add_argument('-a', '--startRecords', { action: 'store_true', help: 'adds start recors(MOVE_IN,HIRE) events' });
    parser.add_argument('-i', '--addInputSamples', { action: 'store_true', help: 'adds fixed input samples to files' });
    parser.add_argument('-o', '--output', { action: 'store', help: 'output prefix, default MONAG_<nrpers>.Z.csv , RANGE_<nrpers>.xx' });
    parser.add_argument('-p', '--period', { action: 'store', type: "int", default: 150, help: 'Event period write zero lines ( one reacord each month) .Z. ' });
    parser.add_argument('-u', '--userHierarchy', { action: 'store_true', help: 'generate hierarchy for nrpersons (DIM_USER_<xxxx>.csv) ' });
    var args = parser.parse_args(explicitArgs ? explicitArgs.split(' ') : undefined);
    return JSON.parse(JSON.stringify(args));
}
exports.parseArguments = parseArguments;
class OutputParams {
}
exports.OutputParams = OutputParams;
function getOutputParams(args) {
    var o = new OutputParams();
    var BASEFILENAME = args.output || '';
    if (BASEFILENAME.length && !BASEFILENAME.endsWith('_')) {
        BASEFILENAME += '_';
    }
    o.AVG_NEXT = args.period;
    var SUFFIX = Helpers.padZeros(o.AVG_NEXT, 4) + '_' + Helpers.padZeros(args.nrpersons, 6);
    o.NOZERO = !args.zero;
    o.STOPRECORDs = args.stopRecords;
    var ext = "." + (o.NOZERO ? "" : "Z.") + (o.STOPRECORDs ? "S." : "") + (args.startRecords ? "A." : "") + "csv";
    var extc = "." + (o.NOZERO ? "" : "Z.") + (o.STOPRECORDs ? "S." : "") + (args.startRecords ? "A." : "") + "C.csv";
    o.FILENAME_MONAG = BASEFILENAME + "MONAG_" + SUFFIX + ext;
    o.FILENAME_MONAG_C = BASEFILENAME + "MONAG_" + SUFFIX + extc;
    o.FILENAME_RANGE = BASEFILENAME + "RANGE_" + SUFFIX + ext;
    o.FILENAME_RANGE_C = BASEFILENAME + "RANGE_" + SUFFIX + extc;
    o.samplesMONAG = [];
    o.samplesRANGE = [];
    if (args.addInputSamples) {
        o.samplesMONAG = SAMPLES.map(a => "input/MONAG_SAMPLE_" + a + ".S.csv");
        o.samplesRANGE = SAMPLES.map(a => "input/RANGE_SAMPLE_" + a + ".S.csv");
    }
    return o;
}
exports.getOutputParams = getOutputParams;
function dumpUserHierarchyIfRequested(args) {
    if (args.userHierarchy) {
        Helpers.genUSERHierarchy(args.nrpersons);
    }
}
exports.dumpUserHierarchyIfRequested = dumpUserHierarchyIfRequested;
class SeedRandomWrap {
    constructor(s) {
        this.sr = new seedrandom(s);
    }
    random() {
        this._last = this.sr();
        return this._last;
    }
    otherRandom(i) {
        var base = 100;
        for (var k = 0; k < i; ++k) {
            base *= 10;
        }
        var b = this._last * base;
        var u = b - Math.floor(this._last * base);
        return u;
    }
}
exports.SeedRandomWrap = SeedRandomWrap;
;
function getSeedRandom(s) {
    return new SeedRandomWrap(s);
}
exports.getSeedRandom = getSeedRandom;
function GetParams1(args) {
    var d1 = core_1.LocalDate.of(2020, 1, 6);
    var d2 = core_1.LocalDate.of(2024, 6, 1);
    var LOCATION_VALUES = { "NewYork": 5,
        "LA": 5,
        "Chicago": 5,
        "Berlin": 2,
        "Frankfurt": 2,
        "Bangalore": 2,
        "SFO": 1
    };
    var ESTAT_VALUES = {
        "A": 4,
        "U": 1,
        "P": 1,
        "S": 2,
    };
    console.log(args);
    var pars = {
        NRPERS: args.nrpersons,
        AVG_NEXT: args.period,
        LOCCHANGE: 0.5,
        FTECHANGE: 0.5,
        ESTATCHANGE: 0.8,
        L_EVENT: 0.7,
        L_HIRE: 0.5,
        LOCATIONs: Helpers.makeMap(LOCATION_VALUES),
        ESTATs: Helpers.makeMap(ESTAT_VALUES),
        firstDate: d1,
        lastDate: d2,
        random: getSeedRandom('abc'),
        randomOD: { "ESTAT": getSeedRandom('XZY') },
        REOP_ESTATS: ["A", "U", "P"],
        wsMONAG: undefined,
        wsRANGE: undefined,
        addInputSamples: args.addInputSamples,
        optsMONAG: {
            noZero: !args.zero,
            stopRecords: args.stopRecords,
            startRecords: args.startRecords
        }
    };
    return pars;
}
exports.GetParams1 = GetParams1;
function GeneratePersons(pars, o) {
    pars.wsMONAG = Helpers.getWS(o.FILENAME_MONAG);
    pars.wsRANGE = Helpers.getWS(o.FILENAME_RANGE);
    Helpers.writeHeader(pars.wsMONAG);
    Helpers.writeHeader(pars.wsRANGE);
    for (var p = 1; p < pars.NRPERS; ++p) {
        var pn = Helpers.genUser(p);
        Helpers.genPerson(pn, pars);
    }
    pars.wsMONAG.ws.on('finish', () => {
        console.log('Wrote data to file ' + o.FILENAME_MONAG);
        Helpers.cleanseWSCommentsRepeatedHeaderInFile(o.FILENAME_MONAG, pars.addInputSamples, o.samplesMONAG, o.FILENAME_MONAG_C, function () {
            console.log('Wrote cleansed file to ' + o.FILENAME_MONAG_C);
        });
    });
    pars.wsRANGE.ws.on('finish', () => {
        console.log('Wrote data to file ' + o.FILENAME_RANGE);
        Helpers.cleanseWSCommentsRepeatedHeaderInFile(o.FILENAME_RANGE, pars.addInputSamples, o.samplesRANGE, o.FILENAME_RANGE_C, function () {
            console.log('Wrote cleansed file to ' + o.FILENAME_RANGE_C);
        });
    });
    pars.wsMONAG.ws.end();
    pars.wsRANGE.ws.end();
}
exports.GeneratePersons = GeneratePersons;

//# sourceMappingURL=data:application/json;charset=utf8;base64,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QUFHLENBQUMsQ0FBQyxjQUFjLENBQUUsQ0FBQztRQUN2RCxPQUFPLENBQUMscUNBQXFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQixFQUFFO1lBQ3pILE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLEdBQUcsQ0FBQyxDQUFDLGdCQUFnQixDQUFFLENBQUM7UUFDOUQsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDLENBQUMsQ0FBQztJQUVILElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ3RCLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ3ZCLENBQUM7QUF6QkQsMENBeUJDIiwiZmlsZSI6InBhcnNlQXJncy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcclxuaW1wb3J0ICogYXMgSGVscGVycyBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuY29uc3QgeyBleGl0IH0gPSByZXF1aXJlKCdwcm9jZXNzJyk7XHJcblxyXG5pbXBvcnQgeyBBcmd1bWVudFBhcnNlciB9IGZyb20gJ2FyZ3BhcnNlJztcclxuY29uc3QgeyB2ZXJzaW9uIH0gPSByZXF1aXJlKCcuLi9wYWNrYWdlLmpzb24nKTtcclxuXHJcbmltcG9ydCB7TG9jYWxEYXRlIH0gZnJvbSAgXCJAanMtam9kYS9jb3JlXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBzZWVkcmFuZG9tIGZyb20gJ3NlZWRyYW5kb20nO1xyXG5cclxuXHJcbnZhciBTQU1QTEVTID0gW1wiQVNBTlRBXCIsIFwiRUFTVEJVXCIsIFwiVFdBTEtFXCIsIFwiQTFcIiwgIFwiSkJBS0VSXCJdO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldElucHV0U2FtcGxlcygpIHtcclxuXHRyZXR1cm4gU0FNUExFUztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBhcnNlZEFyZ3Mge1xyXG5cdG5ycGVyc29ucyA6IG51bWJlcjtcclxuXHR6ZXJvIDogYm9vbGVhbjtcclxuXHRzdG9wUmVjb3JkcyA6IGJvb2xlYW47XHJcblx0c3RhcnRSZWNvcmRzOiBib29sZWFuO1xyXG5cdGFkZElucHV0U2FtcGxlcyA6IGJvb2xlYW47XHJcblx0b3V0cHV0IDogc3RyaW5nO1xyXG5cdHBlcmlvZCA6IG51bWJlcjtcclxuXHR1c2VySGllcmFyY2h5IDogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQXJndW1lbnRzKGV4cGxpY2l0QXJncyA6IHN0cmluZykgOiBQYXJzZWRBcmdzIHtcclxuXHRjb25zdCBwYXJzZXIgPSBuZXcgQXJndW1lbnRQYXJzZXIoIHtcclxuXHRkZXNjcmlwdGlvbjogXCJkYXRlX2dlbl9kYXRlZF9ldmVudHMsIGdlbmVyYXRlIEhSIGRhdGFcIlxyXG5cdH0pO1xyXG5cdHBhcnNlci5hZGRfYXJndW1lbnQoJy12JywgJy0tdmVyc2lvbicsIHsgYWN0aW9uOiAndmVyc2lvbicsIHZlcnNpb24gfSk7XHJcblx0cGFyc2VyLmFkZF9hcmd1bWVudCgnLW4nLCAnLS1ucnBlcnNvbnMnLCB7IGFjdGlvbiA6ICdzdG9yZScsIHR5cGU6IFwiaW50XCIsIGhlbHA6ICdOdW1iZXIgb2YgcGVyc29ucycgLCBkZWZhdWx0OiAyIH0pO1xyXG5cdHBhcnNlci5hZGRfYXJndW1lbnQoJy16JywgJy0temVybycsIHsgYWN0aW9uOiAnc3RvcmVfdHJ1ZScsICBoZWxwOiAnd3JpdGUgemVybyBsaW5lcyAoIG9uZSByZWNvcmQgZWFjaCBtb250aCkgLlouICcgfSk7XHJcblx0cGFyc2VyLmFkZF9hcmd1bWVudCgnLXMnLCAnLS1zdG9wUmVjb3JkcycsIHsgYWN0aW9uOiAnc3RvcmVfdHJ1ZScsIGhlbHA6ICd3cml0ZSBzdG9wIHJlY29yZHMsIGRlZmF1bHQgZXh0ZW5zaW9uIC5TLiAnIH0pO1xyXG5cdHBhcnNlci5hZGRfYXJndW1lbnQoJy1hJywgJy0tc3RhcnRSZWNvcmRzJywgeyBhY3Rpb246ICdzdG9yZV90cnVlJywgaGVscDogJ2FkZHMgc3RhcnQgcmVjb3JzKE1PVkVfSU4sSElSRSkgZXZlbnRzJyB9KTtcclxuXHRwYXJzZXIuYWRkX2FyZ3VtZW50KCctaScsICctLWFkZElucHV0U2FtcGxlcycsIHsgYWN0aW9uOiAnc3RvcmVfdHJ1ZScsIGhlbHA6ICdhZGRzIGZpeGVkIGlucHV0IHNhbXBsZXMgdG8gZmlsZXMnIH0pO1xyXG5cdHBhcnNlci5hZGRfYXJndW1lbnQoJy1vJywgJy0tb3V0cHV0JywgeyBhY3Rpb24gOiAnc3RvcmUnLCBoZWxwOiAnb3V0cHV0IHByZWZpeCwgZGVmYXVsdCBNT05BR188bnJwZXJzPi5aLmNzdiAsIFJBTkdFXzxucnBlcnM+Lnh4JyB9KTtcclxuXHRwYXJzZXIuYWRkX2FyZ3VtZW50KCctcCcsICctLXBlcmlvZCcsIHsgYWN0aW9uOiAnc3RvcmUnLCB0eXBlOiBcImludFwiLCBkZWZhdWx0IDogMTUwLCAgaGVscDogJ0V2ZW50IHBlcmlvZCB3cml0ZSB6ZXJvIGxpbmVzICggb25lIHJlYWNvcmQgZWFjaCBtb250aCkgLlouICcgfSk7XHJcblx0cGFyc2VyLmFkZF9hcmd1bWVudCgnLXUnLCAnLS11c2VySGllcmFyY2h5JywgeyBhY3Rpb246ICdzdG9yZV90cnVlJywgaGVscDogJ2dlbmVyYXRlIGhpZXJhcmNoeSBmb3IgbnJwZXJzb25zIChESU1fVVNFUl88eHh4eD4uY3N2KSAnIH0pO1xyXG5cclxuXHR2YXIgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCBleHBsaWNpdEFyZ3M/IGV4cGxpY2l0QXJncy5zcGxpdCgnICcpICA6IHVuZGVmaW5lZCk7XHJcblx0cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYXJncykpIGFzIFBhcnNlZEFyZ3M7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgT3V0cHV0UGFyYW1zIHtcclxuXHROUlBFUlMgOiBzdHJpbmc7XHJcblx0QVZHX05FWFQgOiBudW1iZXI7XHJcblx0RklMRU5BTUVfTU9OQUcgOiBzdHJpbmc7XHJcblx0RklMRU5BTUVfTU9OQUdfQyA6IHN0cmluZztcclxuXHRzYW1wbGVzTU9OQUcgOiBzdHJpbmdbXTtcclxuXHRGSUxFTkFNRV9SQU5HRSA6IHN0cmluZztcclxuXHRGSUxFTkFNRV9SQU5HRV9DIDogc3RyaW5nO1xyXG5cdHNhbXBsZXNSQU5HRSA6IHN0cmluZ1tdO1xyXG5cdE5PWkVSTyA6IGJvb2xlYW47XHJcblx0U1RPUFJFQ09SRHM6IGJvb2xlYW47XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE91dHB1dFBhcmFtcyggYXJnczogUGFyc2VkQXJncyApIDogT3V0cHV0UGFyYW1zIHtcclxuXHJcblx0dmFyIG8gPSBuZXcgT3V0cHV0UGFyYW1zKCk7XHJcblx0dmFyIEJBU0VGSUxFTkFNRSA9IGFyZ3Mub3V0cHV0IHx8ICcnO1xyXG5cdGlmICggQkFTRUZJTEVOQU1FLmxlbmd0aCAmJiAhQkFTRUZJTEVOQU1FLmVuZHNXaXRoKCdfJykpIHtcclxuXHRcdEJBU0VGSUxFTkFNRSArPSAnXyc7XHJcblx0fVxyXG5cclxuXHRvLkFWR19ORVhUID0gYXJncy5wZXJpb2Q7XHJcblxyXG5cdHZhciBTVUZGSVggPSBIZWxwZXJzLnBhZFplcm9zKG8uQVZHX05FWFQsNCkgKyAnXycgICsgSGVscGVycy5wYWRaZXJvcyhhcmdzLm5ycGVyc29ucyw2KVxyXG5cclxuXHRvLk5PWkVSTyA9ICFhcmdzLnplcm87XHJcblx0by5TVE9QUkVDT1JEcyA9IGFyZ3Muc3RvcFJlY29yZHM7XHJcblxyXG5cdHZhciBleHQgPSBcIi5cIiArIChvLk5PWkVSTyA/IFwiXCIgOiAgXCJaLlwiKSAgKyAgIChvLlNUT1BSRUNPUkRzID8gXCJTLlwiIDogXCJcIikgKyAgKGFyZ3Muc3RhcnRSZWNvcmRzID8gXCJBLlwiIDogXCJcIikgKyAgXCJjc3ZcIjtcclxuXHR2YXIgZXh0YyA9IFwiLlwiICsgKG8uTk9aRVJPID8gXCJcIiA6ICBcIlouXCIpICArICAgKG8uU1RPUFJFQ09SRHMgPyBcIlMuXCIgOiBcIlwiKSArIChhcmdzLnN0YXJ0UmVjb3JkcyA/IFwiQS5cIiA6IFwiXCIpICsgXCJDLmNzdlwiO1xyXG5cclxuXHRvLkZJTEVOQU1FX01PTkFHID0gQkFTRUZJTEVOQU1FICsgXCJNT05BR19cIiArICBTVUZGSVggKyAgZXh0O1xyXG5cdG8uRklMRU5BTUVfTU9OQUdfQyA9IEJBU0VGSUxFTkFNRSArIFwiTU9OQUdfXCIgKyAgU1VGRklYICsgIGV4dGM7XHJcblx0by5GSUxFTkFNRV9SQU5HRSA9IEJBU0VGSUxFTkFNRSArIFwiUkFOR0VfXCIgKyAgU1VGRklYICsgIGV4dDtcclxuXHRvLkZJTEVOQU1FX1JBTkdFX0MgPSBCQVNFRklMRU5BTUUgKyBcIlJBTkdFX1wiICsgIFNVRkZJWCArICBleHRjO1xyXG5cdG8uc2FtcGxlc01PTkFHID0gW107XHJcblx0by5zYW1wbGVzUkFOR0UgPSBbXTtcclxuXHRpZiAoIGFyZ3MuYWRkSW5wdXRTYW1wbGVzICkge1xyXG5cdFx0by5zYW1wbGVzTU9OQUcgPSBTQU1QTEVTLm1hcCggYSA9PiBcImlucHV0L01PTkFHX1NBTVBMRV9cIiArIGEgKyBcIi5TLmNzdlwiKTtcclxuXHRcdG8uc2FtcGxlc1JBTkdFID0gU0FNUExFUy5tYXAoIGEgPT4gXCJpbnB1dC9SQU5HRV9TQU1QTEVfXCIgKyBhICsgXCIuUy5jc3ZcIik7XHJcblx0fVxyXG5cdHJldHVybiBvO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHVtcFVzZXJIaWVyYXJjaHlJZlJlcXVlc3RlZChhcmdzOiBQYXJzZWRBcmdzICkge1xyXG5cdGlmICggYXJncy51c2VySGllcmFyY2h5ICkge1xyXG5cdFx0SGVscGVycy5nZW5VU0VSSGllcmFyY2h5KGFyZ3MubnJwZXJzb25zKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTZWVkUmFuZG9tV3JhcCB7XHJcblx0c3IgOiBhbnk7XHJcblx0X2xhc3QgOiBudW1iZXI7XHJcblx0Y29uc3RydWN0b3IoczpzdHJpbmcpIHtcclxuXHRcdHRoaXMuc3IgPSBuZXcgc2VlZHJhbmRvbShzKVxyXG5cdH1cclxuXHRyYW5kb20oKSA6IG51bWJlciB7XHJcblx0XHR0aGlzLl9sYXN0ID0gdGhpcy5zcigpO1xyXG5cdFx0cmV0dXJuIHRoaXMuX2xhc3Q7XHJcblx0fVxyXG5cdG90aGVyUmFuZG9tKGkgOiBudW1iZXIpIDogbnVtYmVyIHtcclxuXHRcdHZhciBiYXNlID0gMTAwO1xyXG5cdFx0Zm9yKHZhciBrID0gMDsgayA8IGk7ICsraykge1xyXG5cdFx0XHRiYXNlICo9IDEwO1xyXG5cdFx0fVxyXG5cdFx0dmFyIGIgPSB0aGlzLl9sYXN0ICogYmFzZTtcclxuXHRcdHZhciB1ID0gYiAtIE1hdGguZmxvb3IodGhpcy5fbGFzdCAqIGJhc2UpO1xyXG5cdFx0cmV0dXJuIHU7XHJcblx0fVxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlZWRSYW5kb20ocyA6IHN0cmluZykge1xyXG5cdHJldHVybiBuZXcgU2VlZFJhbmRvbVdyYXAocyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBHZXRQYXJhbXMxKGFyZ3M6IFBhcnNlZEFyZ3MpIDogSGVscGVycy5HZW5QYXJhbXMge1xyXG5cdHZhciBkMSA9IExvY2FsRGF0ZS5vZigyMDIwLDEsNik7XHJcblx0dmFyIGQyID0gTG9jYWxEYXRlLm9mKDIwMjQsNiwxKTtcclxuXHJcblx0dmFyIExPQ0FUSU9OX1ZBTFVFUyA9IHsgXCJOZXdZb3JrXCIgOiA1LFxyXG5cdFx0XCJMQVwiIDogNSxcclxuXHRcdFwiQ2hpY2Fnb1wiIDogNSxcclxuXHRcdFwiQmVybGluXCIgOiAyLFxyXG5cdFx0XCJGcmFua2Z1cnRcIiA6IDIsXHJcblx0XHRcIkJhbmdhbG9yZVwiIDogIDIsXHJcblx0XHRcIlNGT1wiIDogMVxyXG5cdH07XHJcblxyXG5cdHZhciBFU1RBVF9WQUxVRVMgPSB7XHJcblx0XHRcIkFcIiA6IDQsXHJcblx0XHRcIlVcIiA6IDEsXHJcblx0XHRcIlBcIiA6IDEsXHJcblx0XHRcIlNcIiA6IDIsXHJcblx0fTtcclxuXHRjb25zb2xlLmxvZyhhcmdzKTtcclxuXHJcblx0dmFyIHBhcnMgPSB7XHJcblx0XHROUlBFUlMgOiBhcmdzLm5ycGVyc29ucyxcclxuXHRcdEFWR19ORVhUIDogYXJncy5wZXJpb2QsXHJcblx0XHRMT0NDSEFOR0UgOiAwLjUsXHJcblx0XHRGVEVDSEFOR0UgOiAwLjUsXHJcblx0XHRFU1RBVENIQU5HRSA6IDAuOCxcclxuXHRcdExfRVZFTlQgOiAwLjcsXHJcblx0XHRMX0hJUkUgOiAwLjUsXHJcblx0XHRMT0NBVElPTnMgOiBIZWxwZXJzLm1ha2VNYXAoTE9DQVRJT05fVkFMVUVTKSxcclxuXHRcdEVTVEFUcyA6IEhlbHBlcnMubWFrZU1hcChFU1RBVF9WQUxVRVMpLFxyXG5cdFx0Zmlyc3REYXRlIDogZDEsXHJcblx0XHRsYXN0RGF0ZSAgOiBkMixcclxuXHRcdHJhbmRvbSA6IGdldFNlZWRSYW5kb20oJ2FiYycpLFxyXG5cdFx0cmFuZG9tT0QgOiB7IFwiRVNUQVRcIiA6IGdldFNlZWRSYW5kb20oJ1haWScpIH0sXHJcblx0XHRSRU9QX0VTVEFUUyA6ICBbXCJBXCIsXCJVXCIsXCJQXCJdLFxyXG5cdFx0d3NNT05BRyA6IHVuZGVmaW5lZCxcclxuXHRcdHdzUkFOR0UgOiB1bmRlZmluZWQsXHJcblx0XHRhZGRJbnB1dFNhbXBsZXMgOiBhcmdzLmFkZElucHV0U2FtcGxlcyxcclxuXHRcdG9wdHNNT05BRyA6IHtcclxuXHRcdFx0bm9aZXJvIDogIWFyZ3MuemVybyxcclxuXHRcdFx0c3RvcFJlY29yZHMgOiBhcmdzLnN0b3BSZWNvcmRzLFxyXG5cdFx0XHRzdGFydFJlY29yZHMgOiBhcmdzLnN0YXJ0UmVjb3Jkc1xyXG5cdFx0XHR9XHJcblx0fSBhcyBIZWxwZXJzLkdlblBhcmFtcztcclxuXHRyZXR1cm4gcGFycztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEdlbmVyYXRlUGVyc29ucyggcGFyczogSGVscGVycy5HZW5QYXJhbXMsIG8gOiBPdXRwdXRQYXJhbXMgKSB7XHJcblx0cGFycy53c01PTkFHID0gSGVscGVycy5nZXRXUyhvLkZJTEVOQU1FX01PTkFHKTtcclxuXHRwYXJzLndzUkFOR0UgPSBIZWxwZXJzLmdldFdTKG8uRklMRU5BTUVfUkFOR0UpO1xyXG5cdEhlbHBlcnMud3JpdGVIZWFkZXIocGFycy53c01PTkFHKTtcclxuXHRIZWxwZXJzLndyaXRlSGVhZGVyKHBhcnMud3NSQU5HRSk7XHJcblx0Zm9yKHZhciBwID0gMTsgcCA8IHBhcnMuTlJQRVJTOyArK3ApIHtcclxuXHRcdHZhciBwbiA9IEhlbHBlcnMuZ2VuVXNlcihwKTtcclxuXHRcdEhlbHBlcnMuZ2VuUGVyc29uKHBuLCBwYXJzKTtcclxuXHR9XHJcblxyXG5cdHBhcnMud3NNT05BRy53cy5vbignZmluaXNoJywgKCkgPT4ge1xyXG5cdFx0Y29uc29sZS5sb2coJ1dyb3RlIGRhdGEgdG8gZmlsZSAnICsgby5GSUxFTkFNRV9NT05BRyApO1xyXG5cdFx0SGVscGVycy5jbGVhbnNlV1NDb21tZW50c1JlcGVhdGVkSGVhZGVySW5GaWxlKG8uRklMRU5BTUVfTU9OQUcsIHBhcnMuYWRkSW5wdXRTYW1wbGVzLCBvLnNhbXBsZXNNT05BRywgby5GSUxFTkFNRV9NT05BR19DLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coJ1dyb3RlIGNsZWFuc2VkIGZpbGUgdG8gJyArIG8uRklMRU5BTUVfTU9OQUdfQyApO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblx0cGFycy53c1JBTkdFLndzLm9uKCdmaW5pc2gnLCAoKSA9PiB7XHJcblx0XHRjb25zb2xlLmxvZygnV3JvdGUgZGF0YSB0byBmaWxlICcgKyBvLkZJTEVOQU1FX1JBTkdFICk7XHJcblx0XHRIZWxwZXJzLmNsZWFuc2VXU0NvbW1lbnRzUmVwZWF0ZWRIZWFkZXJJbkZpbGUoby5GSUxFTkFNRV9SQU5HRSwgcGFycy5hZGRJbnB1dFNhbXBsZXMsIG8uc2FtcGxlc1JBTkdFLCBvLkZJTEVOQU1FX1JBTkdFX0MsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRjb25zb2xlLmxvZygnV3JvdGUgY2xlYW5zZWQgZmlsZSB0byAnICsgby5GSUxFTkFNRV9SQU5HRV9DICk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0cGFycy53c01PTkFHLndzLmVuZCgpO1xyXG5cdHBhcnMud3NSQU5HRS53cy5lbmQoKTtcclxufVxyXG5cclxuIl19
